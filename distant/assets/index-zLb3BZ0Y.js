import{t as G,v as P,j as e,r as f,M as v,I as g,a as l,S as I,R as b,A,C as T,B as F}from"./index-r_yxv9AL.js";import{D as M,a as O,b as _,G as E,e as B,d as L}from"./esES-o6LdUFzd.js";import{B as q}from"./Boton.module-EkP_IAWQ.js";import{D as x,G as J}from"./DataGrid-_mhzC7gF.js";import{S as V}from"./SelecCampos-gf-pdEJA.js";import{B as W}from"./Box-i0ndBvmY.js";import{d as H}from"./deepOrange-Ok8kdfPT.js";import"./TextField-KyvZr_kk.js";import"./Checkbox-C-VidIdO.js";var p={},$=P;Object.defineProperty(p,"__esModule",{value:!0});var S=p.default=void 0,K=$(G()),Q=e,U=(0,K.default)((0,Q.jsx)("path",{d:"M19.89 13.89c1.04 0 1.89-.85 1.89-1.89s-.85-1.89-1.89-1.89S18 10.96 18 12s.85 1.89 1.89 1.89zm-4.24-.21c.93 0 1.68-.75 1.68-1.68s-.75-1.68-1.68-1.68c-.93 0-1.68.75-1.68 1.68s.75 1.68 1.68 1.68zm0-4.26c.93 0 1.68-.75 1.68-1.68 0-.93-.75-1.68-1.68-1.68-.93 0-1.68.75-1.68 1.68 0 .93.75 1.68 1.68 1.68zm0 8.51c.93 0 1.68-.75 1.68-1.68 0-.93-.75-1.68-1.68-1.68-.93 0-1.68.75-1.68 1.68 0 .92.75 1.68 1.68 1.68zm-4.24-4.46c.81 0 1.47-.66 1.47-1.47s-.66-1.47-1.47-1.47c-.81 0-1.47.66-1.47 1.47s.65 1.47 1.47 1.47zm0-4.26c.81 0 1.47-.66 1.47-1.47s-.66-1.47-1.47-1.47c-.81 0-1.47.66-1.47 1.47s.65 1.47 1.47 1.47zm0 8.52c.81 0 1.47-.66 1.47-1.47 0-.81-.66-1.47-1.47-1.47-.81 0-1.47.66-1.47 1.47-.01.81.65 1.47 1.47 1.47zm0 4.27c.81 0 1.47-.66 1.47-1.47 0-.81-.66-1.47-1.47-1.47-.81 0-1.47.66-1.47 1.47-.01.81.65 1.47 1.47 1.47zm0-17.06c.81 0 1.47-.66 1.47-1.47S12.22 2 11.41 2c-.81 0-1.47.66-1.47 1.47s.65 1.47 1.47 1.47zm-4.25 8.32c.7 0 1.26-.57 1.26-1.26s-.57-1.26-1.26-1.26c-.7 0-1.26.57-1.26 1.26s.56 1.26 1.26 1.26zm0 4.25c.7 0 1.26-.57 1.26-1.26 0-.7-.57-1.26-1.26-1.26-.7 0-1.26.57-1.26 1.26 0 .69.56 1.26 1.26 1.26zm0-8.49c.7 0 1.26-.57 1.26-1.26 0-.7-.57-1.26-1.26-1.26-.7 0-1.26.57-1.26 1.26 0 .69.56 1.26 1.26 1.26zm-3.87 4.03c.58 0 1.05-.47 1.05-1.05s-.47-1.05-1.05-1.05c-.58 0-1.05.47-1.05 1.05s.47 1.05 1.05 1.05z"}),"Fitbit");S=p.default=U;const X=()=>new Promise(s=>{const a=g+"/listaprecios";f.get(a).set("Content-Type","application/json").then(t=>{const o=JSON.parse(t.text);s(o)}).catch(t=>v(t))});async function Y(){return Z()}function Z(){return new Promise(function(s){s([{headerName:"Grupo",field:"GrupoDesc",editable:!1,width:200,align:"left",headerAlign:"center",xs:8},{headerName:"Descripción",field:"StkRubroDesc",type:"text",editable:!1,width:250,align:"left",headerAlign:"center"},{headerName:"Ancho",field:"StkRubroAncho",type:"numeric",editable:!1,width:100,align:"right",headerAlign:"center"},{headerName:"Presentación",field:"StkRubroPres",type:"numeric",editable:!1,width:130,align:"right",headerAlign:"center"},{headerName:"Público",field:"PPub",width:150,editable:!1,type:"text",maxLength:9,align:"right",headerAlign:"center",xs:4},{headerName:"Mayorista",field:"PMay",width:150,editable:!1,type:"text",maxLength:9,xs:4,align:"right",headerAlign:"center"},{headerName:"Fecha",field:"StkRubroFecha",width:150,align:"right",headerAlign:"center"}])})}const ee=(s,a)=>new Promise(t=>{const o=g+"/stkitemslistaprecios/?idStkGrupo="+s+"&idStkRubro="+a;f.get(o).set("Content-Type","application/json").then(i=>{const n=JSON.parse(i.text);t(n)})});function te(s){const{open:a,handleClose:t,Grupo:o,Rubro:i}=s,[n,c]=l.useState({columns:[{headerName:"Detalle",field:"StkItemsDesc",headerClassName:"encabcolumns",width:250,align:"left"},{headerName:"Cant.Disponible",field:"StkItemsCantDisp",type:"numeric",headerClassName:"encabcolumns",width:100,align:"right"},{headerName:"Cantidad",field:"StkItemsCantidad",type:"numeric",headerClassName:"encabcolumns",width:100,align:"right"}],datastock:[]});async function d(m,u){const h=await ee(m,u);c({...n,datastock:h})}return l.useEffect(()=>{d(o,i)},[o,i]),e.jsxs(M,{open:a,keepMounted:!0,onClose:t,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[e.jsx(O,{id:"alert-dialog-slide-title",children:"Stock de Items"}),e.jsx(x,{sx:{height:600,width:"100%","& .encabcolumns":{backgroundColor:"rgba(235, 240, 241, 0.3)",textJustify:"center",fontSize:"15px",fontWeight:"bold",color:"rgba(15, 6, 145, 1)",borderRadius:1,boxShadow:3,bgcolor:"rgba(235, 240, 241, 0.3)",height:10}},title:"Stock",columns:n.columns,rows:n.datastock}),e.jsx("button",{onClick:t,className:q.botoncerrar,children:"Cerrar"})]})}function ue(){const{setValor:s}=l.useContext(I),[a,t]=l.useState({idGrupo:0,idRubro:0}),[o,i]=b.useState(!1),[n,c]=l.useState(!1),[d,m]=b.useState([]),[u,h]=l.useState([]);async function C(){var r=await Y();r.push(z),h(r)}async function k(){const r=await X();m(r)}async function w(){C(),k()}l.useEffect(()=>{w(),s("Lista de Precios")},[]);const j=r=>{t({paramitems:a,idGrupo:r.row.StkRubroCodGrp,idRubro:r.row.idStkRubro}),y()},y=()=>{i(!0)},R=()=>{c(!1)},N=()=>{t({paramitems:a,idGrupo:0,idRubro:0}),i(!1)},z={field:"actions",headerName:"Stock",width:100,headerClassName:"encabcolumns",renderCell:r=>e.jsx(F,{variant:"text",style:{color:H[800]},placeholder:"Ver Stock",fontSize:"large",onClick:()=>j(r),startIcon:e.jsx(S,{})})};function D(){return e.jsxs(E,{className:B.tablalistaprecios,children:[e.jsx("b",{}),e.jsx("b",{}),e.jsx("b",{}),e.jsx("b",{}),e.jsx(L,{onClick:()=>c(!0),style:{color:A[800]},fontSize:"medium",titleAccess:"Imprimir"}),e.jsx(J,{style:{color:T[800]}})]})}return e.jsxs(W,{sx:{width:"100%",height:"500px",align:"center",justifycontent:"center",boxShadow:5},children:[e.jsx(x,{autoHeight:!0,sx:{width:"100%","& .encabcolumns":{backgroundColor:"rgba(235, 240, 241, 0.3)",textJustify:"center",fontSize:"15px",fontWeight:"bold",color:"rgba(15, 6, 145)",borderRadius:1,boxShadow:3,bgcolor:"rgba(235, 240, 241, 0.3)",height:10}},rows:d,columns:u,title:"Lista de Precios",localeText:_.components.MuiDataGrid.defaultProps.localeText,slots:{toolbar:D},getCellClassName:()=>"super-app-theme--Open",getRowClassName:()=>"super-app-theme--Open"}),e.jsx(V,{columns:u,datos:d,open:n,handleClose:R}),e.jsx(te,{open:o,handleClose:N,Grupo:a.idGrupo,Rubro:a.idRubro})]})}export{ue as default};
