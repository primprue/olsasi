import{r as h,M as x,I as P,a as u,j as e,w as n,B as y}from"./index-r_yxv9AL.js";import{B as G}from"./Boton.module-EkP_IAWQ.js";import{p as T,s as M}from"./StkGrupoLee-dUMQdOe9.js";import{a as b,F as p,T as d}from"./TextField-KyvZr_kk.js";import{R as v,a as m}from"./RadioGroup-ey9wJ9fG.js";const w=()=>new Promise(r=>{setTimeout(()=>{const a=P+"/stkrubroleer";h.get(a).set("Content-Type","application/json").then(t=>{const i=JSON.parse(t.text);r(i)}).catch(t=>x(t))},500)}),A={stkgrupo:[],codigo_grupo:"Valor Inicial",idStkTipoProveed:0,StkTipoProveedDesc:"",nuevocodigo:0,open:!0,value:"",Porcentaje:0,valueIp:"",msg_respuesta:"",controlenvio:0,idProveedores:0,idStkGrupo:0,StkRubroAbr:"",importemod:0,porcentmod:0,toggle:{proveedor:!1,grupo:!1,rubro:!1,mensaje:!1,importe:!1,porcentaje:!1}},D=(r,a,t,i,j)=>{const g=P+"/modprecios/";h.post(g).set("Content-Type","application/json").send({idProveedores:r,idStkGrupo:a,StkRubroAbr:t,importemod:i,porcentmod:j}).then(function(c){x(c)}).catch(c=>x(c))};function W(){const[r,a]=u.useState(A),[t,i]=u.useState([]),[j,g]=u.useState([]),[c,f]=u.useState([]),S=()=>{D(r.idProveedores,r.idStkGrupo,r.StkRubroAbr,r.Importe,r.Porcentaje)},k=o=>{a(l=>({...l,toggle:{...l.toggle,[o]:!l.toggle[o]}}))},s=o=>l=>{a({...r,[o]:l.target.value}),k(l.target.value)};async function C(){const o=await T();i(o)}async function R(){const o=await M();g(o)}async function I(){const o=await w();f(o)}return u.useEffect(()=>{C(),R(),I()},[]),e.jsx("div",{children:e.jsx("form",{children:e.jsxs(n,{container:!0,children:[e.jsx(n,{item:!0,xs:3,sm:3,lg:3,children:e.jsx(b,{component:"fieldset",children:e.jsxs(v,{"aria-label":"gender",name:"pgr",value:r.value,onChange:s("value"),children:[e.jsx(p,{value:"proveedor",control:e.jsx(m,{color:"primary"}),label:"Proveedor",labelPlacement:"start"}),e.jsx(p,{value:"grupo",control:e.jsx(m,{color:"primary"}),label:"Grupo",labelPlacement:"start"}),e.jsx(p,{value:"rubro",control:e.jsx(m,{color:"primary"}),label:"Rubro",labelPlacement:"start"})]})})}),e.jsxs(n,{item:!0,xs:3,sm:3,lg:3,children:[r.toggle.proveedor&&e.jsxs(d,{id:"idProveedores",select:!0,label:"Proveedor",SelectProps:{native:!0},onChange:s("idProveedores"),children:[e.jsx("option",{value:"0"}),t.map(o=>e.jsx("option",{value:o.id,children:o.ProveedoresDesc},o.id))]}),r.toggle.grupo&&e.jsxs(d,{id:"idStkGrupo",select:!0,label:"Grupo",SelectProps:{native:!0},onChange:s("idStkGrupo"),children:[e.jsx("option",{value:"0"}),j.map(o=>e.jsx("option",{value:o.idStkGrupo,children:o.StkGrupoDesc},o.idStkGrupo))]}),r.toggle.rubro&&e.jsxs(d,{id:"idStkRubro",select:!0,label:"Rubro",SelectProps:{native:!0},onChange:s("StkRubroAbr"),children:[e.jsx("option",{value:"0"}),c.map(o=>e.jsx("option",{value:o.StkRubroAbr,children:o.StkRubroDesc},o.StkRubroAbr))]})]}),e.jsx(n,{item:!0,xs:3,sm:3,lg:3,children:e.jsx(b,{component:"fieldset",children:e.jsxs(v,{"aria-label":"ip",name:"ip",value:r.valueIp,onChange:s("valueIp"),children:[e.jsx(p,{value:"importe",control:e.jsx(m,{color:"primary"}),label:"Importe",labelPlacement:"start"}),e.jsx(p,{value:"porcentaje",control:e.jsx(m,{color:"primary"}),label:"Porcentaje",labelPlacement:"start"})]})})}),e.jsxs(n,{item:!0,xs:1,sm:1,lg:1,children:[r.toggle.importe&&e.jsx(d,{margin:"dense",id:"Importe",label:"Importe",type:"number",fullWidth:!0,placeholder:"Importe",value:r.Importe,onChange:s("Importe")}),r.toggle.porcentaje&&e.jsx(d,{margin:"dense",id:"Porcentaje",label:"Porcentaje",type:"number",fullWidth:!0,placeholder:"Porcentaje",value:r.Porcentaje,onChange:s("Porcentaje")})]}),e.jsx(n,{item:!0,xs:1,sm:1,lg:1}),e.jsx(y,{className:G.botonabreot,onClick:()=>S(),children:"Enviar"})]})})})}export{W as default};
